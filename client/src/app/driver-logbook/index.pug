login-toolbar(title='permission.title')

.sd-page-container
	side-bar
	.sd-page-content-wrapper
		.sd-page-content.logbook(ng-class="{'toggleMenu-sd-content': isCollapsed}")

			.title-bar
				.title Bitácora
			hr

			form(name='driverTimeSheet').add-form
				.element
					md-autocomplete(md-no-cache='false',
					md-items='item in staffSearch(lbSearch.staff)',
					md-selected-item='lbRow.staff',
					md-search-text-change='staffSearchTextChange(lbSearch.staff)',
					md-search-text='lbSearch.staff',
					md-selected-item-change='staffSelectedItemChange(item)',
					md-item-text='item.displayName',
					md-min-length='0',
					md-floating-label='Personal')
						md-item-template
							span(md-highlight-text='lbSearch.staff', md-highlight-flags='^i') {{item.displayName}}

				.element
					md-autocomplete(md-no-cache='false',
					md-items='item in opsSearch(lbSearch.person)',
					md-selected-item='lbRow.operation',
					md-search-text-change='opsSearchTextChange(lbSearch.operation)',
					md-search-text='lbSearch.operation',
					md-selected-item-change='opsSelectedItemChange(item)',
					md-item-text='item.name',
					md-min-length='0',
					md-floating-label='Servicio')
						md-item-template
							span(md-highlight-text='lbSearch.operation', md-highlight-flags='^i') {{item.name}}

				.element
					md-input-container
						label Inicio
						input(mdc-datetime-picker=''
						date='true'
						time='true'
						show-todays-date=''
						minutes='true'
						show-icon='false'
						format='MM/DD/YY hh:mm a'
						ng-model='lbRow.start' type='text' required='')
				.element
					md-input-container
						label Termino
						input(mdc-datetime-picker=''
						date='true'
						time='true'
						show-todays-date=''
						minutes='true'
						show-icon='false'
						format='MM/DD/YY hh:mm a'
						ng-model='lbRow.end' type='text' required='')

				//.element
				//	md-autocomplete(md-no-cache='false',
				//	md-items='item in providerSearch(lbSearch.provider)',
				//	md-selected-item='lbRow.provider',
				//	md-search-text-change='providerSearchTextChange(lbSearch.provider)',
				//	md-search-text='lbSearch.provider',
				//	md-selected-item-change='providerSelectedItemChange(item)',
				//	md-item-text='item.name',
				//	md-min-length='0',
				//	md-floating-label='Proveedor',
				//	style='width:50px')
				//		md-item-template
				//			span(md-highlight-text='lbSearch.provider', md-highlight-flags='^i') {{item.name}}

				.element
					md-input-container
						label Ubicación
						input(ng-model='lbRow.location')
				.element
					md-input-container
						label Falta
						input(ng-model='lbRow.absence')
				.save
					button.btn.btn-success(ng-click='addRow()')
						span.glyphicon.glyphicon-floppy-disk

			.driver-time-sheet.ag-fresh(ag-grid="gridOptions")