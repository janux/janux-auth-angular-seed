md-truncate.add-form-container
	form.add-form(name='specialServiceAddForm')
		.element
			md-autocomplete(md-no-cache='false',
			md-items="item in staffSearch(lbSearch.staff) | orderBy:'resource.name.last'",
			md-menu-container-class='autocomplete-options-container-wider'
			md-selected-item='lbRow.staff',
			md-search-text='lbSearch.staff',
			md-selected-item-change='staffSelectedItemChange(item)',
			md-item-text='item.resource.name.last+" "+item.resource.name.maternal+ " " +item.resource.name.first+" " + item.resource.name.middle',
			md-min-length='0',
			md-floating-label="{{ 'operations.specialsTimeLog.staff' | translate }}")
				md-item-template
					span(md-highlight-text='lbSearch.staff', md-highlight-flags='^i') {{item.resource.name.last+' '+item.resource.name.maternal + ' '+ item.resource.name.first+' ' + item.resource.name.middle}}

		.vertical-line

		.element(ng-show='!operationId')
			md-autocomplete(md-no-cache='false',
			md-items='item in opsSearch(lbSearch.operation) | orderBy : ["-start"]',
			md-menu-container-class='autocomplete-options-container-wider'
			md-selected-item='lbRow.operation',
			md-search-text-change='opsSearchTextChange(lbSearch.operation)',
			vehmd-search-text='lbSearch.operation',
			md-selected-item-change='opsSelectedItemChange(item)',
			md-item-text='item.name',
			md-min-length='0',
			md-floating-label="{{ 'operations.specialsTimeLog.operation' | translate }}")
				md-item-template
					span(md-highlight-text='lbSearch.operation', md-highlight-flags='^i') {{item.name}}

		.element
			md-input-container
				label {{ 'operations.specialsTimeLog.function' | translate }}
				md-select(ng-model="lbRow.function")
					md-option(value="DRIVER") {{ 'operations.specialsTimeLog.driver' | translate }}
					md-option(value="AGENT") {{ 'operations.specialsTimeLog.agent' | translate }}
					md-option(value="AGENT_ARMED") {{ 'operations.specialsTimeLog.agentArmed' | translate }}
					md-option(value="GREETER") {{ 'operations.specialsTimeLog.greeter' | translate }}
					md-option(value="COORDINATOR") {{ 'operations.specialsTimeLog.coordinator' | translate }}

		.vertical-line

		.element
			md-input-container.jnx-datetime-picker
				label {{ 'operations.specialsTimeLog.begin' | translate }}
				input(mdc-datetime-picker=''
				date='true'
				time='true'
				show-todays-date=''
				minutes='true'
				format='YYYY-MM-DD HH:mm'
				edit-input='true'
				click-outside-to-close='true'
				show-icon='true'
				minute-steps='1'
				ng-model='lbRow.start'
				ng-model-options="{ debounce: 1000 }"
				type='text' required='',
				lang='{{ lang }}',
				today-text='{{ "label.today" | translate }}',
				ok-text='{{ "label.ok" | translate }}',
				cancel-text='{{ "label.cancel" | translate }}')

		.vertical-line

		.element
			md-input-container.jnx-datetime-picker
				label {{ 'operations.specialsTimeLog.end' | translate }}
				input(mdc-datetime-picker=''
				date='true'
				time='true'
				show-todays-date=''
				minutes='true'
				min-date='lbRow.start'
				format='YYYY-MM-DD HH:mm'
				edit-input='true'
				click-outside-to-close='true'
				show-icon='true'
				minute-steps='1'
				ng-model='lbRow.end'
				ng-model-options="{ debounce: 1000 }"
				type='text',
				lang='{{ lang }}',
				today-text='{{ "label.today" | translate }}',
				ok-text='{{ "label.ok" | translate }}',
				cancel-text='{{ "label.cancel" | translate }}')

		.vertical-line

		.element
			md-input-container
				label {{ 'operations.specialsTimeLog.comment' | translate }}
				input(ng-model='lbRow.location')

		.vertical-line

		.element
			md-autocomplete(md-no-cache='false',
			md-items="item in vehicleSearch(lbSearch.vehicle) | orderBy:'name'",
			md-selected-item='lbRow.vehicle',
			md-search-text='lbSearch.vehicle',
			md-item-text='item.resource.name + " " + item.resource.plateNumber',
			md-min-length='0',
			md-floating-label="{{ 'operations.specialsTimeLog.vehicle' | translate }}")
				md-item-template
					p() {{item.resource.name}} #[br] {{ item.resource.plateNumber}}

		.btn-element-small
			md-button.md-icon-button.stack(ng-click="showVehicleDataPopup()")
				md-icon.fa.fa-car.fa-lg

		.btn-element-small
			md-button.md-icon-button.stack(aria-label="Grid" ng-click='addRow()')
				md-icon.fa.fa-plus-square.fa-lg
